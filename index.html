<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="favicon" href="images/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/aframe@1.4.1/dist/aframe-master.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <!-- <script src="https://unpkg.com/aframe-animation-component@^5.1.2/dist/aframe-animation-component.min.js"></script> -->
    <script src="https://unpkg.com/super-hands/dist/super-hands.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^5.0.0/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script type="text/javascript" src="/main.js" defer></script>
    <title>Gameghoul</title>
  </head>
  <body>
    <!--A-FRAME-->
    <a-scene
      loading-screen="enabled: false"
      light="defaultLightsEnabled: false"
      vr-mode-ui="enabled: false"
    >
      <!-- ASSETS -->
      <a-assets>
        <!-- <a-asset-item
          id="gameghoul"
          src="/meshes/gglowpoly.gltf"
        ></a-asset-item> -->
        <a-asset-item
          id="gameghoulrigged"
          src="/meshes/ggrigged2.gltf"
        ></a-asset-item>
        <a-asset-item id="room" src="/meshes/ggroom.gltf"></a-asset-item>
        <img id="logogg" crossorigin="anonymous" src="images/ggtexthori.png" />
        <img id="logoyt" crossorigin="anonymous" src="images/logo-yt.png" />
        <img id="logotwit" crossorigin="anonymous" src="images/logo-twit.png" />
        <img id="logoitch" crossorigin="anonymous" src="images/logo-itch.png" />
        <img id="logoart" crossorigin="anonymous" src="images/logo-art.png" />
        <img
          id="arrowleft"
          crossorigin="anonymous"
          src="images/arrowleft.png"
        />
      </a-assets>

      <!-- LOADED ASSETS -->
      <a-entity
        id="gameghoulent"
        class="draggable"
        gltf-model="#gameghoulrigged"
        material="shader: flat"
        position="0 0 -3.4"
        shadow="cast: true"
        animation-mixer="clip: GGDoorEnter; loop: once; clampWhenFinished: true; timeScale: 0"
        ondragstart="GrabTest(1)"
        ondragend="GrabTest(2)"
      ></a-entity>
      <a-entity
        id="rooment"
        gltf-model="#room"
        material="shader: flat"
        shadow="cast: true"
        animation-mixer="clip: GGDoorEnter; loop: once; clampWhenFinished: true; timeScale: 0"
      ></a-entity>

      <!-- PRIMITIVES -->
      <a-box
        id="pointA"
        class="point"
        position="-4 0 0"
        scale="2 2 5"
        material="opacity: 0.0; transparent: true"
      ></a-box>
      <a-box
        id="pointB"
        class="point"
        position="0 0 4"
        scale="6 2 2"
        material="opacity: 0.0; transparent: true"
      ></a-box>
      <a-box
        id="pointC"
        class="point"
        position="4 0 0"
        scale="2 2 5"
        material="opacity: 0.0; transparent: true"
      ></a-box>
      <a-box
        id="pointD"
        class="point"
        position="0 0 -4"
        scale="6 2 2"
        material="opacity: 0.0; transparent: true"
      ></a-box>

      <!-- LIGHTS -->
      <a-entity light="type: ambient; intensity: 1.6;"></a-entity>
      <a-entity
        light="type: directional;
                         castShadow: true;
                         intensity: 0.4;"
        position="0 2 0s"
      >
      </a-entity>

      <!-- CAMERA RIG -->
      <a-entity
        id="cameraRig"
        position="0 1 0s"
        rotation="-40 0 0"
        progressive-controls="objects: .draggable; reverseMouseDrag: true; reverseTouchDrag: true"
      >
        <!-- <a-entity id="head" camera="fov: 60">
          
        </a-entity> -->

        <a-entity
          id="head"
          camera="fov: 40"
          capture-mouse=""
          raycaster="objects: .draggable"
          cursor="rayOrigin: mouse"
          static-body="shape: sphere; sphereRadius: 0.001"
          super-hands="colliderEvent: raycaster-intersection;
                             colliderEventProperty: els;
                             colliderEndEvent:raycaster-intersection-cleared;
                             colliderEndEventProperty: clearedEls;"
        >
          <!-- rotation="-15 0 0" -->
          <!-- <a-entity
            id="ggtext"
            text="anchor: center; align: center; width: 0.5; color: white; value: DOOR"
            position="0 0 -0.5"
          ></a-entity> -->
          <a-plane
            src="#logogg"
            id="gglogo"
            class="draggable"
            transparent="true"
            position="0 0 -1"
            scale="0.4 0.4 1"
            onclick="PageStart()"
          ></a-plane>
          <a-entity
            id="gghud"
            position="0 1.25 -1.5"
            scale="0.2 0.2 1"
            visible="false"
          >
            <a-plane
              src="#logotwit"
              id="gglogos"
              class="draggable"
              transparent="true"
              scale="0.8 0.8 1"
              onclick="VisitPage()"
            ></a-plane>
            <a-plane
              src="#arrowleft"
              id="arrowleft"
              class="draggable"
              transparent="true"
              position="-1 0 0"
              scale="0.8 0.8 1"
              onclick="ggTurn(1)"
            ></a-plane>
            <a-plane
              src="#arrowleft"
              id="arrowright"
              class="draggable"
              transparent="true"
              position="1 0 0"
              scale="-0.8 -0.8 1"
              onclick="ggTurn(-1)"
            ></a-plane>
          </a-entity>
        </a-entity>
        <!-- <a-entity
          id="mouseCursor"
          raycaster="objects: .draggable"
          cursor="fuse: true; fuseTimeout: 1000; rayOrigin: mouse"
          geometry="primitive: ring"
          position="0 0 -3"
          scale="0.1 0.1 0.1"
          material="color: white"
        ></a-entity> -->

        <!-- <a-entity
          sphere-collider="objects: a-box"
          super-hands
          hand-controls="hand: left"
        ></a-entity>
        <a-entity
          sphere-collider="objects: a-box"
          super-hands
          hand-controls="hand: right"
        ></a-entity> -->
      </a-entity>
    </a-scene>
    <!--THREE.JS-->
    <!-- <canvas id="bg"></canvas>
    <script type="module" src="/main.js"></script> -->
  </body>
</html>
